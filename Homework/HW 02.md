## HW 02

PB20111623 马子睿

## Q1

### 1

* 因为一共有$N$个节点，所以每一个块需要$N$位来保存，因此每个目录项中存在标志位占$N$位
* 整个系统中，每一块都有存在$N$位标志位，因此存在标志位一共占据$N^2\cdot M$位

### 2

* 每一个块有$B$位数据，对应的目录有N位，同时每一个块都有一个目录

* 因此，整个目录占共享存储器的比例为$\frac{N}{8B+N}$

### 3

* 分层目录：可以将目录氛围多级，每一级的目录项包含一部分节点的存在标志位。这样就减少了每一个目录项的大小，但会增加查询的开销。
* 增大目录的粒度：将多个块组合在一起，为这个组合块维护一个目录。这样减少了目录的数量，但会带来更多一致性维护开销。

## Q2

### 1

* 每个非分岔SIMD指令每个周期可以生成4个结果，发射率为80%，其中70%是单精度浮点运算，因此单个处理器总的浮点数运算吞吐量为$4\times 80\% \times 70\% \times 80\%\times 2 = 3.584GFLOP/S$，十个处理器的吞吐量为35.84GFLOP/S$

### 2

* 再次计算单精度浮点数运算的吞吐量：$6\times 8\times90\%\times70\%\times 80\%\times 2 = 48.364GFLOP/S$
* 加速比：$\frac{48.384}{35.84} = 1.35$

